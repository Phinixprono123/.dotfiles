:root {
  /* fallback palette if extractor doesn't run */
  --m3-primary: #8ab4f8;
  --m3-secondary: #a8c7fa;
  --m3-tertiary: #c58af9;
  --m3-neutral: #1f1f1f;
  --m3-surface: #121212;
  --m3-outline: #2a2a2a;

  /* Material-like depth and motion */
  --elev-0: 0 1px 3px rgba(0, 0, 0, 0.28);
  --elev-1: 0 6px 18px rgba(0, 0, 0, 0.28);
  --elev-2: 0 10px 28px rgba(0, 0, 0, 0.32);

  --radius-outer: 18px;
  --radius-card: 16px;

  --ease-smooth: cubic-bezier(0.2, 0.7, 0.3, 1);
  --anim-fast: 120ms var(--ease-smooth);
  --anim-med: 180ms var(--ease-smooth);
  --anim-slow: 260ms var(--ease-smooth);
}

window.surface {
  background: color-mix(in srgb, var(--m3-surface) 94%, black);
  border-radius: var(--radius-outer);
  border: 1px solid color-mix(in srgb, var(--m3-outline) 70%, transparent);
  box-shadow: var(--elev-0);
}

headerbar.flat {
  background: transparent;
  border-bottom: 1px solid
    color-mix(in srgb, var(--m3-outline) 70%, transparent);
}

.hb-title {
  font-weight: 700;
  letter-spacing: 0.2px;
  color: #eaeaea;
}

flowboxchild {
  padding: 0;
}

/* Card becomes interactive and expressive */
.card {
  background: color-mix(in srgb, var(--m3-neutral) 35%, var(--m3-surface));
  border: 1px solid color-mix(in srgb, var(--m3-outline) 50%, transparent);
  border-radius: var(--radius-card);
  min-width: 280px;
  min-height: 180px;
  overflow: hidden;
  box-shadow: var(--elev-0);
  transition:
    transform var(--anim-med),
    box-shadow var(--anim-med),
    border-color var(--anim-fast),
    background var(--anim-fast),
    filter var(--anim-med);
}

.card:hover {
  transform: translateY(-3px);
  box-shadow: var(--elev-1);
  border-color: color-mix(in srgb, var(--m3-primary) 38%, transparent);
  filter: saturate(1.03);
}

.card:active {
  transform: translateY(-1px) scale(0.99);
  box-shadow: var(--elev-0);
}

.card-image {
  min-height: 180px;
  transition:
    filter var(--anim-med),
    transform var(--anim-slow);
  transform-origin: center center;
}

.card:hover .card-image {
  filter: saturate(1.06) brightness(1.02);
  transform: scale(1.02);
}

.gradient-bottom {
  position: absolute;
  bottom: 0;
  width: 100%;
  min-height: 96px;
  background: linear-gradient(180deg, transparent, rgba(0, 0, 0, 0.55));
  pointer-events: none;
}

.header-wrap {
  position: absolute;
  bottom: 0;
  width: 100%;
  padding: 12px;
}

.card-header {
  padding: 6px 8px;
  background: color-mix(in srgb, black 35%, transparent);
  border-radius: 12px;
  backdrop-filter: blur(6px);
  transition:
    background var(--anim-fast),
    transform var(--anim-fast);
}

.title {
  color: #f5f5f5;
  font-weight: 600;
  margin-right: 8px;
}

/* Buttons: pill with hover/press + focus ring */
button.pill {
  border-radius: 999px;
  padding: 6px 14px;
  background: color-mix(in srgb, var(--m3-primary) 88%, black);
  color: #0c0c0c;
  border: 1px solid color-mix(in srgb, var(--m3-primary) 40%, transparent);
  transition:
    transform var(--anim-fast),
    background var(--anim-fast),
    box-shadow var(--anim-fast);
  box-shadow: 0 2px 0 rgba(0, 0, 0, 0.2) inset;
}

button.pill:hover {
  background: var(--m3-primary);
  transform: translateY(-1px);
}

button.pill:active {
  transform: translateY(0) scale(0.98);
  box-shadow: none;
}

button.pill:focus-visible {
  outline: 2px solid var(--m3-secondary);
  outline-offset: 2px;
}

/* Whole-card click affordance (enable via class in UI) */
.card.clickable {
  cursor: pointer;
}
.card.clickable:focus-visible {
  outline: 2px solid var(--m3-primary);
  outline-offset: 2px;
}
